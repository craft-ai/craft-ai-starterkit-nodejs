name: test starter-kit
on:
  push:
    branches:
      - master
  pull_request:
    types: [opened, synchronize]
jobs:
  run_tests:
      # Preparing test/build environment 
    - name: Checkout scm
      uses: actions/checkout@v2
    - name: Set up Node
      uses: actions/setup-node@v2
      with:
        node-version: "10.x"
        registry-url: 'https://registry.npmjs.com'
    - name: Install packages
      run: npm prune
    - name: Install packages
      run: npm install
    - name: Install packages
      run: npm start
    - name: Send message to Slack API
      uses: archive/github-actions-slack@v1.0.3
      id: notify
      with:
        slack-bot-user-oauth-access-token: ${{ secrets.SLACK_BOT_TOKEN }}
        slack-channel: ci
        slack-text: Success! Github Actions for ${{ github.head_ref }} ("https://github.com/${{ github.repository }}/actions")
